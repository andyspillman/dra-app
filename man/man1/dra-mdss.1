.\" Automatically generated by Pod::Man 2.12 (Pod::Simple 3.05)
.\"
.\" Standard preamble:
.\" ========================================================================
.de Sh \" Subsection heading
.br
.if t .Sp
.ne 5
.PP
\fB\\$1\fR
.PP
..
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Vb \" Begin verbatim text
.ft CW
.nf
.ne \\$1
..
.de Ve \" End verbatim text
.ft R
.fi
..
.\" Set up some character translations and predefined strings.  \*(-- will
.\" give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
.\" double quote, and \*(R" will give a right double quote.  \*(C+ will
.\" give a nicer C++.  Capital omega is used to do unbreakable dashes and
.\" therefore won't be available.  \*(C` and \*(C' expand to `' in nroff,
.\" nothing in troff, for use with C<>.
.tr \(*W-
.ds C+ C\v'-.1v'\h'-1p'\s-2+\h'-1p'+\s0\v'.1v'\h'-1p'
.ie n \{\
.    ds -- \(*W-
.    ds PI pi
.    if (\n(.H=4u)&(1m=24u) .ds -- \(*W\h'-12u'\(*W\h'-12u'-\" diablo 10 pitch
.    if (\n(.H=4u)&(1m=20u) .ds -- \(*W\h'-12u'\(*W\h'-8u'-\"  diablo 12 pitch
.    ds L" ""
.    ds R" ""
.    ds C` ""
.    ds C' ""
'br\}
.el\{\
.    ds -- \|\(em\|
.    ds PI \(*p
.    ds L" ``
.    ds R" ''
'br\}
.\"
.\" If the F register is turned on, we'll generate index entries on stderr for
.\" titles (.TH), headers (.SH), subsections (.Sh), items (.Ip), and index
.\" entries marked with X<> in POD.  Of course, you'll have to process the
.\" output yourself in some meaningful fashion.
.if \nF \{\
.    de IX
.    tm Index:\\$1\t\\n%\t"\\$2"
..
.    nr % 0
.    rr F
.\}
.\"
.\" Accent mark definitions (@(#)ms.acc 1.5 88/02/08 SMI; from UCB 4.2).
.\" Fear.  Run.  Save yourself.  No user-serviceable parts.
.    \" fudge factors for nroff and troff
.if n \{\
.    ds #H 0
.    ds #V .8m
.    ds #F .3m
.    ds #[ \f1
.    ds #] \fP
.\}
.if t \{\
.    ds #H ((1u-(\\\\n(.fu%2u))*.13m)
.    ds #V .6m
.    ds #F 0
.    ds #[ \&
.    ds #] \&
.\}
.    \" simple accents for nroff and troff
.if n \{\
.    ds ' \&
.    ds ` \&
.    ds ^ \&
.    ds , \&
.    ds ~ ~
.    ds /
.\}
.if t \{\
.    ds ' \\k:\h'-(\\n(.wu*8/10-\*(#H)'\'\h"|\\n:u"
.    ds ` \\k:\h'-(\\n(.wu*8/10-\*(#H)'\`\h'|\\n:u'
.    ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'^\h'|\\n:u'
.    ds , \\k:\h'-(\\n(.wu*8/10)',\h'|\\n:u'
.    ds ~ \\k:\h'-(\\n(.wu-\*(#H-.1m)'~\h'|\\n:u'
.    ds / \\k:\h'-(\\n(.wu*8/10-\*(#H)'\z\(sl\h'|\\n:u'
.\}
.    \" troff and (daisy-wheel) nroff accents
.ds : \\k:\h'-(\\n(.wu*8/10-\*(#H+.1m+\*(#F)'\v'-\*(#V'\z.\h'.2m+\*(#F'.\h'|\\n:u'\v'\*(#V'
.ds 8 \h'\*(#H'\(*b\h'-\*(#H'
.ds o \\k:\h'-(\\n(.wu+\w'\(de'u-\*(#H)/2u'\v'-.3n'\*(#[\z\(de\v'.3n'\h'|\\n:u'\*(#]
.ds d- \h'\*(#H'\(pd\h'-\w'~'u'\v'-.25m'\f2\(hy\fP\v'.25m'\h'-\*(#H'
.ds D- D\\k:\h'-\w'D'u'\v'-.11m'\z\(hy\v'.11m'\h'|\\n:u'
.ds th \*(#[\v'.3m'\s+1I\s-1\v'-.3m'\h'-(\w'I'u*2/3)'\s-1o\s+1\*(#]
.ds Th \*(#[\s+2I\s-2\h'-\w'I'u*3/5'\v'-.3m'o\v'.3m'\*(#]
.ds ae a\h'-(\w'a'u*4/10)'e
.ds Ae A\h'-(\w'A'u*4/10)'E
.    \" corrections for vroff
.if v .ds ~ \\k:\h'-(\\n(.wu*9/10-\*(#H)'\s-2\u~\d\s+2\h'|\\n:u'
.if v .ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'\v'-.4m'^\v'.4m'\h'|\\n:u'
.    \" for low resolution devices (crt and lpr)
.if \n(.H>23 .if \n(.V>19 \
\{\
.    ds : e
.    ds 8 ss
.    ds o a
.    ds d- d\h'-1'\(ga
.    ds D- D\h'-1'\(hy
.    ds th \o'bp'
.    ds Th \o'LP'
.    ds ae ae
.    ds Ae AE
.\}
.rm #[ #] #H #V #F C
.\" ========================================================================
.\"
.IX Title "DRA-MDSS 1"
.TH DRA-MDSS 1 "2010-07-04" "perl v5.8.8" "User Contributed Perl Documentation"
.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
.\" way too many mistakes in technical documents.
.if n .ad l
.nh
.SH "DRA-MDSS"
.IX Header "DRA-MDSS"
dra-mdss \- Transfers projects to \s-1IU\s0's mass data storage facility
.SH "VERSION"
.IX Header "VERSION"
This documentation refers to dra-mdss version 2.0.
.SH "USAGE"
.IX Header "USAGE"
\&\fBdra-mdss [\-help] [\-f] [dra.conf options] [project_directory]\fR
.SH "REQUIRED ARGUMENTS"
.IX Header "REQUIRED ARGUMENTS"
A \fBproject directory\fR is required for the script to run. This must be the full
path the directory.  For example:
.PP
\&\fBdra-mdss /Volumes/audio/Concerts/2010_fall/20100923vab1234\fR
.SH "OPTIONS"
.IX Header "OPTIONS"
\&\fB\-help\fR Displays brief synopsis of usage.
.PP
\&\fB\-f\fR Force flag.  The project will be transferred to mdss regardless of any errors 
or if the concert was successfully sent at an earlier time.
.PP
\&\fBdra.conf\fR Any setting from the dra.conf file may be passed to the script at runtime in the format:
.PP
\&\-[variable name] [value]
.PP
Example:
.PP
\&\fBdra-mdss \-email joebob@indiana.edu [directory]\fR
.PP
Will execute the script overriding the email address specified in dra.conf with joebob@indiana.edu
.SH "DESCRIPTION"
.IX Header "DESCRIPTION"
dra-mdss will take a project folder that had been successfully processed by the dra-transfer
script and send it to the mdss storage facility for archiving. During this processes, files
will be renamed and checksums will be computed and stored along with the original files to
ensure accurate transfers in the future.
.PP
The script will continue to process a project directory until there is a successful
outcome.  Once the project has been successfully sent to mdss, any further executions
on that particular project directory will have no effect. Using the force option,
(\-f) will override this and re-send the project to mdss.
.SH "DIAGNOSTICS"
.IX Header "DIAGNOSTICS"
Upon successful execution, the dra-mdss with exit with no output. Any fatal
error will be written to standard output and the application will exit immediately.
Messages are written to the application's own log file found in the application
log directory, as well as a separate log file found in the project's log
directory in the access folder.
.PP
In the case of errors written to standard out, the error will appear on the
command line shell or will be collected by the calling script, usually
dra-run. The presence of any fatal error will cause the script to write an
error log to the project log directory found in the access folder of the
project. The presence of this file will mean dra-mdss will run again when
called either directly or by dra-run.
.SH "CONFIGURATION AND ENVIRONMENT"
.IX Header "CONFIGURATION AND ENVIRONMENT"
A properly configured dra.conf file should be sufficient for dra-mdss
script to run.
.PP
The \s-1DRA_HOME\s0 environment variable is required and can be set on a per-user basis
or at execution time.
.SH "DEPENDENCIES"
.IX Header "DEPENDENCIES"
\&\s-1HTAR\s0 and \s-1HSI\s0 are required to send the files to \s-1MDSS\s0.  These applications are
available through \s-1IU\s0's mass datastore service.  See http://kb.iu.edu/data/auvo.html
for the latest client builds available.
.PP
You will also need to create kerberos keytab files to enable automate access to the mdss account.
For more information on creating keytab files, see http://kb.iu.edu/data/avdb.html.
.SH "AUTHOR"
.IX Header "AUTHOR"
Adam Wead     awead@indiana.edu, amsterdamos@gmail.com
.PP
Travis Gregg
.SH "LICENCE AND COPYRIGHT"
.IX Header "LICENCE AND COPYRIGHT"
Copyright 2010, the Trustees of Indiana University.
